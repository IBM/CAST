Function Name,Trigger Name,Trigger Table,Trigger Type,Result Data Type,Action On,Argument Data Type,Description
fn_csm_allocation_create_data_aggregator,(Stored Procedure),,,timestamp without time zone,,"i_allocation_id bigint, i_state text, i_node_names text[], i_ib_rx_list bigint[], i_ib_tx_list bigint[], i_gpfs_read_list bigint[], i_gpfs_write_list bigint[], i_energy bigint[], i_power_cap integer[], i_ps_ratio integer[], i_power_cap_hit bigint[], i_gpu_energy bigint[], OUT o_timestamp timestamp without time zone",csm_allocation_node function to populate the data aggregator fields in csm_allocation_node.
fn_csm_allocation_dead_records_on_lv,(Stored Procedure),,,void,,i_allocation_id bigint,Delete any lvs on an allocation that is being deleted.
fn_csm_allocation_delete_start,(Stored Procedure),,,record,,"i_allocation_id bigint, i_primary_job_id bigint, i_secondary_job_id integer, i_timeout_time bigint, OUT o_allocation_id bigint, OUT o_primary_job_id bigint, OUT o_secondary_job_id integer, OUT o_user_flags text, OUT o_system_flags text, OUT o_num_nodes integer, OUT o_state text, OUT o_type text, OUT o_isolated_cores integer, OUT o_user_name text, OUT o_nodelist text, OUT o_runtime bigint",Retrieves allocation details for delete a d sets the state to deleteing.
fn_csm_allocation_finish_data_stats,(Stored Procedure),,,record,,"allocationid bigint, i_state text, node_names text[], ib_rx_list bigint[], ib_tx_list bigint[], gpfs_read_list bigint[], gpfs_write_list bigint[], energy_list bigint[], pc_hit_list bigint[], gpu_usage_list bigint[], cpu_usage_list bigint[], mem_max_list bigint[], gpu_energy_list bigint[], OUT o_end_time timestamp without time zone, OUT o_final_state text",csm_allocation function to finalize the data aggregator fields.
fn_csm_allocation_history_dump,(Stored Procedure),,,timestamp without time zone,,"allocationid bigint, endtime timestamp without time zone, exitstatus integer, i_state text, finalize boolean, node_names text[], ib_rx_list bigint[], ib_tx_list bigint[], gpfs_read_list bigint[], gpfs_write_list bigint[], energy_list bigint[], pc_hit_list bigint[], gpu_usage_list bigint[], cpu_usage_list bigint[], mem_max_list bigint[], gpu_energy_list bigint[], OUT o_end_time timestamp without time zone",csm_allocation function to amend summarized column(s) on DELETE. (csm_allocation_history_dump)
fn_csm_allocation_node_change,tr_csm_allocation_node_change,csm_allocation_node,BEFORE,trigger,DELETE,"",csm_allocation_node function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_allocation_node_sharing_status,(Stored Procedure),,,void,,"i_allocation_id bigint, i_type text, i_state text, i_shared boolean, i_nodenames text[]",csm_allocation_sharing_status function to handle exclusive usage of shared nodes on INSERT.
fn_csm_allocation_revert,(Stored Procedure),,,void,,allocationid bigint,Removes all traces of an allocation that never multicasted.
fn_csm_allocation_state_history_state_change,tr_csm_allocation_state_change,csm_allocation,BEFORE,trigger,"INSERT, UPDATE","",csm_allocation_state_change function to amend summarized column(s) on UPDATE.
fn_csm_allocation_update,tr_csm_allocation_update,csm_allocation,BEFORE,trigger,UPDATE,"",csm_allocation_update function to amend summarized column(s) on UPDATE.
fn_csm_allocation_update_state,(Stored Procedure),,,record,,"i_allocationid bigint, i_state text, OUT o_primary_job_id bigint, OUT o_secondary_job_id integer, OUT o_user_flags text, OUT o_system_flags text, OUT o_num_nodes integer, OUT o_nodes text, OUT o_isolated_cores integer, OUT o_user_name text, OUT o_shared boolean, OUT o_num_gpus integer, OUT o_num_processors integer, OUT o_projected_memory integer, OUT o_state text, OUT o_runtime bigint, OUT o_smt_mode smallint, OUT o_core_blink boolean",csm_allocation_update_state function that ensures the allocation can be legally updated to the supplied state
fn_csm_config_history_dump,tr_csm_config_history_dump,csm_config,BEFORE,trigger,"UPDATE, DELETE","",csm_config function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_db_schema_version_history_dump,tr_csm_db_schema_version_history_dump,csm_db_schema_version,BEFORE,trigger,"UPDATE, DELETE","",csm_db_schema_version function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_diag_result_history_dump,tr_csm_diag_result_history_dump,csm_diag_result,BEFORE,trigger,DELETE,"",csm_diag_result function to amend summarized column(s) on DELETE.
fn_csm_diag_run_history_dump,(Stored Procedure),,,void,,"_run_id bigint, _end_time timestamp with time zone, _status text, _inserted_ras boolean",csm_diag_run function to amend summarized column(s) on UPDATE and DELETE. (csm_diag_run_history_dump)
fn_csm_dimm_history_dump,tr_csm_dimm_history_dump,csm_dimm,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_dimm function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_gpu_history_dump,tr_csm_gpu_history_dump,csm_gpu,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_gpu function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_hca_history_dump,tr_csm_hca_history_dump,csm_hca,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_hca function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_ib_cable_history_dump,tr_csm_ib_cable_history_dump,csm_ib_cable,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_ib_cable function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_ib_cable_inventory_collection,(Stored Procedure),,,record,,"i_record_count integer, i_serial_number text[], i_comment text[], i_guid_s1 text[], i_guid_s2 text[], i_identifier text[], i_length text[], i_name text[], i_part_number text[], i_port_s1 text[], i_port_s2 text[], i_revision text[], i_severity text[], i_type text[], i_width text[], OUT o_insert_count integer, OUT o_update_count integer, OUT o_delete_count integer",function to INSERT and UPDATE ib cable inventory.
fn_csm_lv_history_dump,(Stored Procedure),,,void,,"i_logical_volume_name text, i_node_name text, i_allocationid bigint, i_updated_time timestamp without time zone, i_end_time timestamp without time zone, i_num_bytes_read bigint, i_num_bytes_written bigint, i_num_reads bigint, i_num_writes bigint",csm_lv function to amend summarized column(s) on DELETE. (csm_lv_history_dump)
fn_csm_lv_modified_history_dump,(Stored Procedure),,,trigger,,"",
fn_csm_lv_update_history_dump,tr_csm_lv_update_history_dump,csm_lv,BEFORE,trigger,UPDATE,"",csm_lv_update_history_dump function to amend summarized column(s) on UPDATE.
fn_csm_lv_upsert,(Stored Procedure),,,void,,"l_logical_volume_name text, l_node_name text, l_allocation_id bigint, l_vg_name text, l_state character, l_current_size bigint, l_max_size bigint, l_begin_time timestamp without time zone, l_updated_time timestamp without time zone, l_file_system_mount text, l_file_system_type text",csm_lv_upsert function to amend summarized column(s) on INSERT. (csm_lv table)
fn_csm_node_attributes_query_details,(Stored Procedure),,,node_details,,i_node_name text,csm_node_attributes_query_details function to HELP CSM API.
fn_csm_node_delete,(Stored Procedure),,,record,,"i_node_names text[], OUT o_not_deleted_node_names_count integer, OUT o_not_deleted_node_names text","Function to delete a node, and remove records in the csm_node, csm_ssd, csm_processor, csm_gpu, csm_hca, csm_dimm tables"
fn_csm_node_state,tr_csm_node_state,csm_node,BEFORE,trigger,"INSERT, UPDATE","",csm_node function to amend summarized column(s) on UPDATE.
fn_csm_node_state_history_temp_table,(Stored Procedure),,,SETOF record,,"i_state compute_node_states, i_start_t timestamp without time zone, i_end_t timestamp without time zone, OUT node_name text, OUT state compute_node_states, OUT hours_of_state numeric, OUT total_range_time numeric, OUT ""%_of_state"" numeric",function to gather statistical information related to the csm_node_state_history state durations.
fn_csm_node_update,tr_csm_node_update,csm_node,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_node_update function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_processor_socket_history_dump,tr_csm_processor_socket_history_dump,csm_processor_socket,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_processor_socket function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_ras_type_update,tr_csm_ras_type_update,csm_ras_type,AFTER,trigger,"INSERT, UPDATE, DELETE","",csm_ras_type function to add rows to csm_ras_type_audit on INSERT and UPDATE and DELETE. (csm_ras_type_update)
fn_csm_ssd_dead_records,(Stored Procedure),,,void,,i_sn text,Delete any vg and lv on an ssd that is being deleted.
fn_csm_ssd_history_dump,tr_csm_ssd_history_dump,csm_ssd,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_ssd function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_ssd_wear,tr_csm_ssd_wear,csm_ssd,BEFORE,trigger,UPDATE,"",csm_ssd function to amend summarized column(s) on UPDATE.
fn_csm_step_begin,(Stored Procedure),,,timestamp without time zone,,"i_step_id bigint, i_allocation_id bigint, i_status text, i_executable text, i_working_directory text, i_argument text, i_environment_variable text, i_num_nodes integer, i_num_processors integer, i_num_gpus integer, i_projected_memory integer, i_num_tasks integer, i_user_flags text, i_node_names text[], OUT o_begin_time timestamp without time zone","csm_step_begin function to begin a step, adds the step to csm_step and csm_step_node"
fn_csm_step_end,(Stored Procedure),,,record,,"i_stepid bigint, i_allocationid bigint, i_exitstatus integer, i_errormessage text, i_cpustats text, i_totalutime double precision, i_totalstime double precision, i_ompthreadlimit text, i_gpustats text, i_memorystats text, i_maxmemory bigint, i_iostats text, OUT o_user_flags text, OUT o_num_nodes integer, OUT o_nodes text, OUT o_end_time timestamp without time zone",csm_step_end function to delete the step from the nodes table (fn_csm_step_end)
fn_csm_step_history_dump,(Stored Procedure),,,void,,"i_stepid bigint, i_allocationid bigint, i_endtime timestamp with time zone, i_exitstatus integer, i_errormessage text, i_cpustats text, i_totalutime double precision, i_totalstime double precision, i_ompthreadlimit text, i_gpustats text, i_memorystats text, i_maxmemory bigint, i_iostats text",csm_step function to amend summarized column(s) on DELETE. (csm_step_history_dump)
fn_csm_step_node_history_dump,tr_csm_step_node_history_dump,csm_step_node,BEFORE,trigger,DELETE,"",csm_step_node function to amend summarized column(s) on DELETE. (csm_step_node_history_dump)
fn_csm_switch_attributes_query_details,(Stored Procedure),,,switch_details,,i_switch_name text,csm_switch_attributes_query_details function to HELP CSM API.
fn_csm_switch_children_inventory_collection,(Stored Procedure),,,record,,"i_record_count integer, i_name text[], i_host_system_guid text[], i_comment text[], i_description text[], i_device_name text[], i_device_type text[], i_hw_version text[], i_max_ib_ports integer[], i_module_index integer[], i_number_of_chips integer[], i_path text[], i_serial_number text[], i_severity text[], i_status text[], i_type text[], i_fw_version text[], OUT o_insert_count integer, OUT o_update_count integer, OUT o_delete_count integer",function to INSERT and UPDATE switch children inventory.
fn_csm_switch_history_dump,tr_csm_switch_history_dump,csm_switch,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_switch function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_switch_inventory_collection,(Stored Procedure),,,record,,"i_record_count integer, i_switch_name text[], i_serial_number text[], i_comment text[], i_description text[], i_fw_version text[], i_gu_id text[], i_has_ufm_agent boolean[], i_hw_version text[], i_ip text[], i_model text[], i_num_modules integer[], i_physical_frame_location text[], i_physical_u_location text[], i_ps_id text[], i_role text[], i_server_operation_mode text[], i_sm_mode text[], i_state text[], i_sw_version text[], i_system_guid text[], i_system_name text[], i_total_alarms integer[], i_type text[], i_vendor text[], OUT o_insert_count integer, OUT o_update_count integer, OUT o_delete_count integer, OUT o_delete_module_count integer",function to INSERT and UPDATE switch inventory.
fn_csm_switch_inventory_history_dump,tr_csm_switch_inventory_history_dump,csm_switch_inventory,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_switch_inventory function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_vg_create,(Stored Procedure),,,void,,"i_available_size bigint, i_node_name text, i_ssd_count integer, i_ssd_serial_numbers text[], i_ssd_allocations bigint[], i_total_size bigint, i_vg_name text, i_is_scheduler boolean","Function to create a vg, adds the vg to csm_vg_ssd and csm_vg"
fn_csm_vg_delete,(Stored Procedure),,,void,,"i_node_name text, i_vg_name text","Function to delete a vg, and remove records in the csm_vg and csm_vg_ssd tables"
fn_csm_vg_history_dump,tr_csm_vg_history_dump,csm_vg,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_vg function to amend summarized column(s) on UPDATE and DELETE.
fn_csm_vg_ssd_history_dump,tr_csm_vg_ssd_history_dump,csm_vg_ssd,BEFORE,trigger,"INSERT, UPDATE, DELETE","",csm_vg_ssd function to amend summarized column(s) on UPDATE and DELETE.
func_alt_type_val,(Stored Procedure),,,void,,"_type regtype, _val text",function to alter existing db types.
func_csm_delete_func,(Stored Procedure),,,integer,,"_name text, OUT func_dropped integer",function to drop all existing db functions.
func_csm_drop_all_triggers,(Stored Procedure),,,text,,"",function to drop all existing db triggers.
